<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Resume Analyzer</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white font-sans overflow-x-hidden">
<!-- Animated background elements -->
<div class="fixed inset-0 overflow-hidden pointer-events-none">
<div class="absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse"></div>
<div class="absolute -bottom-40 -left-40 w-80 h-80 bg-indigo-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 animate-pulse animation-delay-2000"></div>
<div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-60 h-60 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-10 animate-pulse animation-delay-4000"></div>
</div>

<div class="relative z-10 flex items-center justify-center min-h-screen px-4 py-10">
<div class="max-w-2xl w-full">
<!-- Main card -->
<div class="bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-8 mb-6 transform hover:scale-[1.02] transition-all duration-300">
<!-- Header -->
<div class="text-center mb-8">
<div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-r from-indigo-500 to-purple-600 rounded-2xl mb-4 shadow-lg">
<svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
</svg>
</div>
<h1 class="text-4xl font-bold mb-2 text-transparent bg-clip-text bg-gradient-to-r from-indigo-400 to-purple-400">
Resume Analyzer
</h1>
<p class="text-gray-300 text-lg">Discover how well your resume matches job requirements</p>
</div>

<!-- Form -->
<form id="resumeForm" class="space-y-6">
<!-- File upload -->
<div class="group">
<label class="block font-semibold mb-3 text-gray-200 flex items-center">
<svg class="w-5 h-5 mr-2 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"></path>
</svg>
Upload Resume (PDF)
</label>
<div class="relative">
<input type="file" name="resume" accept=".pdf" required
class="w-full bg-white/5 border border-white/20 rounded-xl px-4 py-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-indigo-400 focus:border-transparent transition-all duration-300 hover:bg-white/10 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-sm file:font-medium file:bg-indigo-500 file:text-white hover:file:bg-indigo-600 file:cursor-pointer">
</div>
</div>

<!-- Job description -->
<div class="group">
<label class="block font-semibold mb-3 text-gray-200 flex items-center">
<svg class="w-5 h-5 mr-2 text-purple-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
</svg>
Job Description <span class="text-gray-400 font-normal">(optional)</span>
</label>
<textarea name="jobdesc" rows="5"
class="w-full bg-white/5 border border-white/20 rounded-xl px-4 py-4 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-purple-400 focus:border-transparent transition-all duration-300 hover:bg-white/10 resize-none"
placeholder="Paste the job description here to get more accurate matching results..."></textarea>
</div>

<!-- Submit button -->
<button type="submit"
class="w-full bg-gradient-to-r from-indigo-500 to-purple-600 text-white font-bold py-4 px-6 rounded-xl hover:from-indigo-600 hover:to-purple-700 focus:outline-none focus:ring-4 focus:ring-purple-400/50 transition-all duration-300 transform hover:scale-[1.02] hover:shadow-xl flex items-center justify-center space-x-2 group">
<svg class="w-5 h-5 group-hover:rotate-12 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
</svg>
<span>Analyze Resume</span>
</button>
</form>
</div>

<!-- Results card -->
<div id="resultsCard" class="bg-white/10 backdrop-blur-xl rounded-3xl shadow-2xl border border-white/20 p-8 transform transition-all duration-500 opacity-0 translate-y-4" style="display: none;">
<div class="flex items-center mb-6">
<div class="w-12 h-12 bg-gradient-to-r from-green-500 to-emerald-600 rounded-xl flex items-center justify-center mr-4">
<svg class="w-6 h-6 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
</svg>
</div>
<h3 class="text-2xl font-bold text-white">Analysis Results</h3>
</div>
<div id="output" class="space-y-4 text-gray-200"></div>
</div>

<!-- Loading overlay -->
<div id="loadingOverlay" class="fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50" style="display: none;">
<div class="bg-white/10 backdrop-blur-xl rounded-2xl p-8 text-center border border-white/20">
<div class="animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-400 mx-auto mb-4"></div>
<p class="text-white text-lg font-medium">Analyzing your resume...</p>
<p class="text-gray-300 text-sm mt-2">This may take a few moments</p>
</div>
</div>
</div>

<script>
const form = document.getElementById('resumeForm');
const output = document.getElementById('output');
const resultsCard = document.getElementById('resultsCard');
const loadingOverlay = document.getElementById('loadingOverlay');

form.addEventListener('submit', async (e) => {
e.preventDefault();
const formData = new FormData(form);

// Show loading overlay
loadingOverlay.style.display = 'flex';
loadingOverlay.classList.add('animate-fadeIn');

// Hide results card
resultsCard.style.display = 'none';
resultsCard.classList.remove('opacity-100', 'translate-y-0');
resultsCard.classList.add('opacity-0', 'translate-y-4');

try {
const response = await fetch('http://127.0.0.1:5000/analyze', {
method: 'POST',
body: formData
});
const result = await response.json();
console.log("JSON received:", result);

// Hide loading overlay
loadingOverlay.style.display = 'none';

// Create score color based on percentage
const score = result.keyword_match_percent;
let scoreColor = 'text-red-400';
let scoreBg = 'bg-red-500/20';
if (score >= 70) {
scoreColor = 'text-green-400';
scoreBg = 'bg-green-500/20';
} else if (score >= 50) {
scoreColor = 'text-yellow-400';
scoreBg = 'bg-yellow-500/20';
}

// Format missing keywords
const missingKeywords = result.missing_keywords && result.missing_keywords.length > 0 
? result.missing_keywords.join(", ") 
: "None â€” excellent match! ðŸŽ‰";

output.innerHTML = `
<div class="grid gap-4">
<div class="bg-white/5 rounded-xl p-4 border border-white/10">
<h4 class="font-semibold text-indigo-300 mb-2 flex items-center">
<svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path>
</svg>
Job Description Used
</h4>
<p class="text-gray-300 text-sm leading-relaxed">${result.job_description_used}</p>
</div>

<div class="bg-white/5 rounded-xl p-4 border border-white/10">
<h4 class="font-semibold text-purple-300 mb-3 flex items-center">
<svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
</svg>
SkillMatch Score
</h4>
<div class="flex items-center space-x-4">
<div class="flex-1 bg-gray-700 rounded-full h-3 overflow-hidden">
<div class="h-full bg-gradient-to-r from-indigo-500 to-purple-600 rounded-full transition-all duration-1000 ease-out" style="width: ${score}%"></div>
</div>
<span class="text-2xl font-bold ${scoreColor}">${score}%</span>
</div>
</div>

<div class="bg-white/5 rounded-xl p-4 border border-white/10">
<h4 class="font-semibold text-orange-300 mb-2 flex items-center">
<svg class="w-4 h-4 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16c-.77.833.192 2.5 1.732 2.5z"></path>
</svg>
Missing Keywords
</h4>
<p class="text-gray-300 text-sm leading-relaxed">${missingKeywords}</p>
</div>
</div>
`;

// Show results card with animation
resultsCard.style.display = 'block';
setTimeout(() => {
resultsCard.classList.remove('opacity-0', 'translate-y-4');
resultsCard.classList.add('opacity-100', 'translate-y-0');
}, 50);

} catch (err) {
// Hide loading overlay
loadingOverlay.style.display = 'none';

output.innerHTML = `
<div class="bg-red-500/20 border border-red-500/30 rounded-xl p-4 text-center">
<svg class="w-8 h-8 text-red-400 mx-auto mb-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
<path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
</svg>
<p class="text-red-300 font-medium">Error analyzing resume</p>
<p class="text-red-400 text-sm mt-1">Please check the backend connection and try again</p>
</div>
`;

// Show results card with error
resultsCard.style.display = 'block';
setTimeout(() => {
resultsCard.classList.remove('opacity-0', 'translate-y-4');
resultsCard.classList.add('opacity-100', 'translate-y-0');
}, 50);

console.error("Analysis failed:", err);
}
});

// Add some custom animations
const style = document.createElement('style');
style.textContent = `
.animation-delay-2000 {
animation-delay: 2s;
}
.animation-delay-4000 {
animation-delay: 4s;
}
.animate-fadeIn {
animation: fadeIn 0.3s ease-out;
}
@keyframes fadeIn {
from { opacity: 0; transform: scale(0.95); }
to { opacity: 1; transform: scale(1); }
}
`;
document.head.appendChild(style);
</script>
</body>
</html>